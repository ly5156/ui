<table class="fixed grid sortable-table has-actions">
  <thead>
    <tr class="fixed-header-placeholder">
      {{#if internalBulkActions}}
        <th width="{{checkWidth}}"></th>
      {{/if}}
      {{#each headers as |header idx|}}
        <th width={{if header.width header.width}} class="{{header.classNames}}"></th>
      {{/each}}
      {{#if hasRowActions}}
        <th width="{{actionsWidth}}"></th>
      {{/if}}
    </tr>
    {{#if showHeader}}
      <div class="fixed-header-actions row clearfix">
        {{#if internalBulkActions}}
          <div class="bulk-actions pull-left">
            {{#each availableActions as |resourceAction index|}}
              {{#if resourceAction.enabled}}
                <a class="btn btn-sm bg-primary" href="#" onclick={{action 'executeBulkAction' resourceAction.action}} tabindex={{index}}>
                  {{t resourceAction.label}}
                  <i class="{{resourceAction.icon}}"></i>
                </a>
              {{else}}
                <a class="btn btn-sm bg-default btn-disabled" href="#" onclick="return false;" tabindex={{index}}>
                  {{t resourceAction.label}}
                  <i class="{{resourceAction.icon}}"></i>
                </a>
              {{/if}}
            {{/each}}
            {{#if selectedNodes}}
              <div class="inline-block text-small">{{t pagingLabel pages=1 count=selectedNodes.length}}</div>
            {{/if}}
          </div>
        {{/if}}

        <div class="pull-left">
          {{#if leftActions}}
            <div class="vertical-middle pr-20">
              {{yield this 'left-actions'}}
            </div>
          {{/if}}
        </div>

        <div class="pull-right" style="display: flex;">
          {{#if hasSelect}}
            <div style="width:140px;margin-top:-3px;margin-right:20px">
              {{new-select
                classNames="form-control"
                content=selectData
                value=selectValue
              }}
            </div>
          {{/if}}
          {{#if search}}
            <div class="vertical-middle">
              {{#ember-wormhole to=searchToWormhole renderInPlace=(not searchToWormhole)}}
                <div class="{{unless searchToWormhole 'pull-right'}} search-group input-group">
                  {{input value=searchText aria-title=(t 'generic.search') type="search" class="input-sm pull-right" placeholder=(t 'generic.search') keyUp=(action "search")}}
                  {{#if searchText}}
                    <span class="input-group-btn">
                      <button class="btn bg-transparent text-info pl-10 pr-10" {{action 'clearSearch'}}><i class="icon icon-close"/></button>
                    </span>
                  {{/if}}
                </div>
              {{/ember-wormhole}}
            </div>
          {{/if}}

          {{#if rightActions}}
            <div class="vertical-middle pl-20">
              {{yield this 'right-actions'}}
            </div>
          {{/if}}
        </div>
      </div>
    {{/if}}

    <tr class="fixed-header">
      {{#if internalBulkActions}}
        <th width="{{checkWidth}}" class="row-check">
          {{check-box classNames="select-all-check" checked=isAll}}
        </th>
      {{/if}}
      {{#each headers as |header|}}
        {{sortable-thead
          sortable=this
          current=sortBy
          descending=descending
          action=(action "changeSort")
          header=header
        }}
      {{/each}}
      {{#if hasRowActions}}
        <th width="{{actionsWidth}}"></th>
      {{/if}}
    </tr>
  </thead>
    <tbody>
      {{#each data as |row|}}
        {{yield this 'row' row dt}}
      {{else}}
        {{yield this 'norows'}}
      {{/each}}
    </tbody>
</table>
{{#if (and paging totalCount) }}
  {{page-numbers content=pagedContent class="text-center mt-10 mb-10 no-select" indexTo=indexTo indexFrom=indexFrom totalCount=totalCount textLabel=pagingLabel action=(action "pageChange")}}
{{/if}}
{{#if (and paging hasNextData)}}
  <div class="pagination-container">
    <div class="btn-group btn-group-sm">
      <a class="arrow next enabled-arrow btn bg-default" disabled={{unless hasNextData 'disabled'}} {{action "pageChange" nextData}}><span class="icon icon-chevron-right"></span></a>
    </div>
  </div>
{{/if}}
